<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Où est la neige?</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="warning.js"></script>
    <script src="chart.js" defer></script>
</head>
<body>
    <header>
        <h1>Visualisation en courbes</h1>
        <nav>
            <ul>
                <li><a href="index.html">Page principale</a></li>
                <li><a href="visu2.html">Visualisation en diagramme</a></li>
                <li><a href="visu3.html">Visualisation en tableaux colorés</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="tooltip" style="display: none;"></div>
        <div class="overlay" id="warningOverlay">
        <span class="close-btn" onclick="hideOverlay()">x</span>
        <p><strong>N'ont pu être récupérées que les données des stations pour les mois de Février et Mars de chaque année</strong></p>
        </div>
        <div class="warning-sign" id="warningSign" onclick="showOverlay()" style="display:none;">
        ⚠️
        </div>
        <div class="titleDiv">
            <h3>Visualisation des données nivologiques temporelles</h3>
            <p>Vous pouvez visualizer la hauteur du neige par rapport à l'hauteur et l'année du measure. Jouez avec les controles pour modifier le premier graph.</p>
        </div>
        <div class="controls">
            <!-- Dropdown for "Year"/"Altitude" -->
            <label for="variableSelect">Paramètre à controler</label>
            <select id="variableSelect" class="mode-button">
                <option value="var_year">Année</option>
                <option value="var_altitude">Altitude</option>
                <!-- Add more variables as needed -->
            </select>
            
            <!-- Slider for value selection -->
            <label for="valueSlider">Valeur:</label>
            <input type="range" min="1996" max="2024" value="2020" class="slider" id="valueSlider">
            <span id="selectedValue">2020</span>
            
            <!-- Button for "Max"/"Average" -->
            <label for="modeButton">Mode de données:</label>
            <button id="modeButton" class="mode-button">Max</button>
    
            <!-- Button for precision selection -->
            <button id="precisionButton" class="mode-button" style="display:none;">Précision: Mois</button>
        </div>
        <div id="chart">
        </div>
        <div class="titleDiv">
            <p>Ensuite vous pouvez spécifier un station à examiner</p>
        </div>
        <div class="controls">
            <!-- Dropdown for Station Selection -->
            <label for="stationSelect">Station à analyser:</label>
            <select id="stationSelect" class="mode-button">
                <!-- Options will be populated dynamically -->
            </select>
        </div>
        <div id="timeSeriesChart">
        </div>
        <div class="titleDiv">
            <h4>Analyse du visualization</h4>
            <p>Le graphique en courbes a toujours été la visualisation la plus populaire. Cela est dû à sa simplicité de création 
                et d'interprétation. Le graphique en bas de cette page affiche la hauteur de la neige en fonction du temps. 
                Cette visualisation aide à identifier les tendances et les rythmes de la couverture neigeuse. De plus, la ligne 
                rouge indique une régression linéaire pour souligner la tendance au cours du temps. Les couleurs des courbes 
                servent uniquement à les différencier visuellement. Le graphique en haut de la page est appelé 
                "graphique en aires empilées", car il utilise une surface colorée pour représenter les données. Dans ces 
                graphiques spécifiques, les couleurs correspondent aux couleurs des montagnes (marron) et de la neige (bleu 
                pour la glace). L'affichage de plusieurs variables sur le même graphique est réalisé en les empilant les unes 
                sur les autres. Cela permet de voir la contribution de chaque variable à l'ensemble. Notez que la hauteur de la 
                neige est multipliée par 100 pour une meilleure visualisation. Cette visualisation propose une vue plus proche 
                de l'imagination de la montagne.
            </p>
        </div>
    </main>
</body>
</html>
